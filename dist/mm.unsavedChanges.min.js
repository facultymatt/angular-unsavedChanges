var myApp=angular.module("unsavedDev",[]).directive("unsavedWarningGroup",["$rootScope",function(a){return{scope:true,priority:2000,controller:function(){var c=[];var b=true;var f=function(){};var e={navigate:"You will lose unsaved changes if you leave this page",reload:"You will lose unsaved changes if you reload this page"};function d(){angular.forEach(c,function(h,g){if(h.$dirty){b=false}});return b}this.init=function(g){c.push(g)};this.removePrompt=function(){c=[];f();window.onbeforeunload=null};this.confirmExit=function(){if(!d()){return e.reload}else{f();window.onbeforeunload=null}};window.onbeforeunload=this.confirmExit;f=a.$on("$locationChangeStart",function(h,g,i){if(!d()){if(!confirm(e.navigate)){h.preventDefault()}else{f();window.onbeforeunload=null}}else{f();window.onbeforeunload=null}})}}}]).directive("unsavedWarningClear",function(){return{scope:true,require:"^unsavedWarningGroup",priority:3000,link:function(c,b,a,d){c.screenCtrl=d;b.bind("click",function(e){d.removePrompt()})}}}).directive("unsavedWarningForm",function(){return{require:["^unsavedWarningGroup","form"],link:function(c,b,a,f){var e=f[0];var d=f[1];e.init(d);b.bind("submit",function(g){e.removePrompt()})}}});