var myApp=angular.module("unsavedDev",[]).directive("unsavedWarningGroup",["$rootScope","$window",function(a,b){return{scope:true,priority:2000,controller:function(){var d=[];var c=true;var g=function(){};var f={navigate:"You will lose unsaved changes if you leave this page",reload:"You will lose unsaved changes if you reload this page"};function e(){angular.forEach(d,function(j,i){if(j.$dirty){c=false}});return c}this.init=function(i){d.push(i)};this.removePrompt=function(){d=[];g();b.removeEventListener("beforeunload",h.confirmExit)};var h=this;this.confirmExit=function(){if(!e()){return f.reload}else{g();b.removeEventListener("beforeunload",h.confirmExit)}};b.addEventListener("beforeunload",h.confirmExit);g=a.$on("$locationChangeStart",function(j,i,k){if(!e()){if(!b.confirm(f.navigate)){j.preventDefault()}else{g();b.removeEventListener("beforeunload",h.confirmExit)}}else{g();b.removeEventListener("beforeunload",h.confirmExit)}})}}}]).directive("unsavedWarningClear",function(){return{scope:true,require:"^unsavedWarningGroup",priority:3000,link:function(c,b,a,d){c.screenCtrl=d;b.bind("click",function(e){0;d.removePrompt()})}}}).directive("unsavedWarningForm",function(){return{require:["^unsavedWarningGroup","form"],link:function(c,b,a,f){var e=f[0];var d=f[1];e.init(d);b.bind("submit",function(g){e.removePrompt()})}}});